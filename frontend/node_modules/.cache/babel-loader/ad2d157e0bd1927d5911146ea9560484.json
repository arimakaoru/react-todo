{"ast":null,"code":"import _regeneratorRuntime from \"/Users/kaoru/prg/react-todo/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kaoru/prg/react-todo/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/kaoru/prg/react-todo/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kaoru/prg/react-todo/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kaoru/prg/react-todo/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kaoru/prg/react-todo/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kaoru/prg/react-todo/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/kaoru/prg/react-todo/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/kaoru/prg/react-todo/frontend/src/components/Todo.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport '../css/style.css';\nimport Form from './Form.js';\nimport List from './List.js';\n\nvar Todo =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Todo, _React$Component);\n\n  function Todo(props) {\n    var _this;\n\n    _classCallCheck(this, Todo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Todo).call(this, props));\n    _this.getTodo = _this.getTodo.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addTodo = _this.addTodo.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteTodo = _this.deleteTodo.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleIsChecked = _this.toggleIsChecked.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleIsDone = _this.toggleIsDone.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      todoList: [_this.getTodo()]\n    };\n    return _this;\n  }\n\n  _createClass(Todo, [{\n    key: \"getTodo\",\n    value: function () {\n      var _getTodo = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var todoData;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                todoData = [];\n                _context.next = 3;\n                return axios.get('http://localhost:8000/api/').then(function (res) {\n                  // todoData = res.data.map((obj) => {\n                  //     obj.isChecked = false;\n                  //     return obj;\n                  // });\n                  todoData = res.data;\n                }).catch(function (err) {\n                  console.log(err);\n                });\n\n              case 3:\n                return _context.abrupt(\"return\", todoData);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getTodo() {\n        return _getTodo.apply(this, arguments);\n      }\n\n      return getTodo;\n    }()\n  }, {\n    key: \"addTodo\",\n    value: function addTodo(todoText) {\n      this.setState({\n        todoList: this.state.todoList.concat({\n          body: todoText,\n          isChecked: false,\n          isDone: false\n        })\n      });\n    }\n  }, {\n    key: \"deleteTodo\",\n    value: function deleteTodo() {\n      this.setState({\n        todoList: this.state.todoList.filter(function (todoObj, index) {\n          return !todoObj.isChecked;\n        })\n      });\n    }\n  }, {\n    key: \"toggleIsChecked\",\n    value: function toggleIsChecked(index) {\n      var newTodoList = this.state.todoList;\n      newTodoList[index].isChecked = !this.state.todoList[index].isChecked;\n      this.setState({\n        todoList: newTodoList\n      });\n    }\n  }, {\n    key: \"toggleIsDone\",\n    value: function toggleIsDone(index) {\n      var newTodoList = this.state.todoList;\n      newTodoList[index].isDone = !this.state.todoList[index].isDone;\n      this.setState({\n        todoList: newTodoList\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"todo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"todo__title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"React ToDo App\"), React.createElement(Form, {\n        addTodo: this.addTodo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"ToDo List\"), React.createElement(List, {\n        todoList: this.state.todoList,\n        deleteTodo: this.deleteTodo,\n        toggleIsChecked: this.toggleIsChecked,\n        toggleIsDone: this.toggleIsDone,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Todo;\n}(React.Component);\n\nexport { Todo as default };","map":{"version":3,"sources":["/Users/kaoru/prg/react-todo/frontend/src/components/Todo.js"],"names":["React","axios","Form","List","Todo","props","getTodo","bind","addTodo","deleteTodo","toggleIsChecked","toggleIsDone","state","todoList","todoData","get","then","res","data","catch","err","console","log","todoText","setState","concat","body","isChecked","isDone","filter","todoObj","index","newTodoList","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nimport '../css/style.css';\nimport Form from './Form.js';\nimport List from './List.js';\n\nexport default class Todo extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.getTodo = this.getTodo.bind(this);\n        this.addTodo = this.addTodo.bind(this);\n        this.deleteTodo = this.deleteTodo.bind(this);\n        this.toggleIsChecked = this.toggleIsChecked.bind(this);\n        this.toggleIsDone = this.toggleIsDone.bind(this);\n\n        this.state = {\n            todoList: [this.getTodo()],\n        };\n    }\n\n    async getTodo() {\n        let todoData = [];\n        await axios\n            .get('http://localhost:8000/api/')\n            .then(res => {\n                // todoData = res.data.map((obj) => {\n                //     obj.isChecked = false;\n                //     return obj;\n                // });\n                todoData = res.data;\n            })\n            .catch(err => {\n                console.log(err);\n            });\n        \n        return todoData;\n    }\n\n    addTodo(todoText) {\n        this.setState({\n            todoList: this.state.todoList.concat({\n                body: todoText,\n                isChecked: false,\n                isDone: false,\n            }),\n        });\n    }\n\n    deleteTodo() {\n        this.setState({\n            todoList: this.state.todoList.filter((todoObj, index) => {\n                return !todoObj.isChecked;\n            }),\n        });\n    }\n\n    toggleIsChecked(index) {\n        const newTodoList = this.state.todoList;\n        newTodoList[index].isChecked = !this.state.todoList[index].isChecked;\n        this.setState({\n            todoList: newTodoList,\n        });\n    }\n\n    toggleIsDone(index) {\n        const newTodoList = this.state.todoList;\n        newTodoList[index].isDone = !this.state.todoList[index].isDone;\n        this.setState({\n            todoList: newTodoList,\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"todo\">\n                <h1 className=\"todo__title\">React ToDo App</h1>\n                <Form\n                    addTodo={this.addTodo}\n                />\n                <h2>ToDo List</h2>\n                <List\n                    todoList={this.state.todoList}\n                    deleteTodo={this.deleteTodo}\n                    toggleIsChecked={this.toggleIsChecked}\n                    toggleIsDone={this.toggleIsDone}\n                />\n            </div>\n        );\n    }\n\n}"]},"metadata":{},"sourceType":"module"}